/**
 ******************************************************************************
 * @file    Drivers/API/Src/API_ADS1293.c
 * @author  Patricio Hans HÃ¼ttmann
 * @brief   This file provides firmware functions to manage ADS1293 device
 */
/* Includes ------------------------------------------------------------------*/
#include <API_SPI.h>
#include <stdio.h>
#include <API_ADS1293.h>

#define REG_ID_SIZE 1

/**
 * @brief  Initialize ADS1293 device
 * @param  none
 * @retval bool Init process status
 */
bool_t ads1293Init(void) {
	/* Init SPI peripheral */
	if (!spiInit(0)) {
		return false;
	}
	return true;
}

/**
 * @brief  Read ADS1293 ID register
 * @param  pidData pointer
 * @retval uint8_t ID value
 */
void ads1293ReadID(uint8_t *pidData) {
	/* Validate *pidData */
	if (ptxData == NULL || size <= 0) {
		return;
	}
	uint8_t ptxData = REVID;

	setNSS(GPIO_PIN_RESET);
	spiSendData(&ptxData, REG_ID_SIZE);
	spiReceiveData(pidData, REG_ID_SIZE);
	setNSS(GPIO_PIN_SET);

}
